!function(){"use strict";class e{constructor(e,t,s,n){let{item:i,handleCardClick:r}=e;this._templateSelector=t,this._name=i.name,this._link=i.link,this._likes=i.likes,this._ownerId=i.owner._id,this._id=i._id,this._handleCardClick=r,this._handleDeleteClick=s,this._handleLikeClick=n,this._item=i}_countLike(){this._likes.length<1?this._likeCounter.textContent="":this._likeCounter.textContent=this._likes.length}_checkInitialLike(e){this._likes.some((t=>t._id==e._id))&&this._likeButton.classList.add("gallery__like-button_active")}_compareID(e){this._deleteButton=this._element.querySelector(".gallery__delete-button"),this._ownerId!==e._id&&(this._deleteButton.style.display="none")}_getTemplate(){return this._element=this._templateSelector.querySelector(".gallery__card").cloneNode(!0),this._element}_handleLikeButton(){this._likeButton.classList.toggle("gallery__like-button_active"),this._handleLikeClick(this)}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeButton()})),this._element.querySelector(".gallery__delete-button").addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._cardPicture.addEventListener("click",(()=>this._handleCardClick({name:this._name,link:this._link})))}generateCard(e){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".gallery__like-button"),this._cardPicture=this._element.querySelector(".gallery__picture"),this._likeCounter=this._element.querySelector(".gallery__like-counter"),this._setEventListeners(),this._compareID(e),this._checkInitialLike(e),this._countLike(),this._element.querySelector(".gallery__text").textContent=this._name,this._cardPicture.src=this._link,this._cardPicture.alt=this._name,this._element}}class t{constructor(e,t){this._settings=e,this._formElement=t}_showInputError(e){this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.add(this._settings.inputErrorClass),this._errorElement.textContent=e.validationMessage,this._errorElement.classList.add(this._settings.errorClass)}_hideInputError(e){this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.remove(this._settings.inputErrorClass),this._errorElement.classList.remove(this._settings.errorClass),this._errorElement.textContent=""}_hasInvalidInput(e){return Array.from(e).some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput(this._inputList)?(this._submitButton.classList.add(this._settings.inactiveButtonClass),this._submitButton.disabled=!0):(this._submitButton.classList.remove(this._settings.inactiveButtonClass),this._submitButton.disabled=!1)}_handleInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_setEventListeners(){this._inputList=this._formElement.querySelectorAll(this._settings.inputSelector),this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._handleInputValidity(e),this._toggleButtonState()}))}))}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class s{constructor(e){this._popup=document.querySelector(e),this._handleEscapeClose=this._handleEscClose.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.close()}open(){this._popup.classList.add("popup_visible"),document.addEventListener("keydown",this._handleEscapeClose)}close(){this._popup.classList.remove("popup_visible"),document.removeEventListener("keydown",this._handleEscapeClose)}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup_visible")||e.target.classList.contains("popup__close-button-icon"))&&this.close()}))}}class n extends s{constructor(e,t){super(e),this._handleSubmit=t,this._form=this._popup.querySelector(".popup__form"),this._button=this._form.querySelector(".popup__button")}_getInputValues(){return this._data={},this._inputList=this._popup.querySelectorAll(".popup__input"),this._inputList.forEach((e=>{this._data[e.name]=e.value})),this._data}openWithData(e){super.open(),this._data=e}close(){super.close(),this._form.reset()}setEventListeners(){super.setEventListeners(),this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._button.textContent="Saving...",this._handleSubmit(this._data),this.close(),this._button.textContent="Save"}))}}const i={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_active"},r=document.querySelector("#card-template").content,o=document.querySelector(".popup__form-profile"),a=document.querySelector(".user__edit-button"),l=document.querySelector(".user__add-button"),_=document.querySelector(".popup__input_value_name"),c=document.querySelector(".popup__input_value_about"),h=document.querySelector(".popup__form-addCard"),u=document.querySelector(".user__avatar-wrapper"),d=document.querySelector(".popup__form-avatar");let p={};const m=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}sendCardData(e){return this._name=e.name,this._link=e.link,fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:this._name,link:this._link})}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}setUserInfo(e){let{name:t,about:s,avatar:n}=e;return this._name=t,this._about=s,this._avatar=n,fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:this._name,about:this._about,avatar:this._avatar})}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}getInitialCards(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}deleteCard(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e._id),{method:"DELETE",headers:this._headers})}likeAdd(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e._id),{method:"PUT",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}likeDelete(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}editProfilePhoto(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"302ca387-b31a-4cb2-8cb9-197e187dc382","Content-Type":"application/json"}}),k=new n(".popup_type_profile",(function(){m.setUserInfo(k._getInputValues()).catch((e=>{console.log(e)})),f.setUserInfo(k._getInputValues())}));k.setEventListeners();const v=new n(".popup_type_addCard",(function(){const e=v._getInputValues(),t={name:e.title,link:e.url};m.sendCardData(t).then((e=>{y.addItem(I({item:e}))})),h.reset()}));v.setEventListeners();const E=new class extends s{open(e){let{name:t,link:s}=e;this._elementPic=this._popup.querySelector(".popup__image"),this._elementText=this._popup.querySelector(".popup__image-text"),this._elementPic.src=s,this._elementPic.alt="".concat(t," photo"),this._elementText.textContent=t,super.open()}}(".popup_type_image");E.setEventListeners();const b=new n(".popup_type_delete",(function(e){m.deleteCard(e).then((t=>{e._element.remove(),b.close()})).catch((e=>{console.log(e)}))}));b.setEventListeners();const g=new n(".popup_type_avatar",(function(){const e=g._getInputValues();m.editProfilePhoto(e.url).catch((e=>{console.log(e)})),f.setUserAvatar(e.url)}));g.setEventListeners();const y=new class{constructor(e,t){let{items:s,renderer:n}=e;this._renderedItems=s,this._renderer=n,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}renderItems(){this._renderedItems.forEach((e=>{this._renderer(e)}))}}({items:[],renderer:e=>{y.addItem(I({item:e}))}},".gallery");m.getInitialCards().then((e=>{Array.from(e).forEach((e=>{y.addItem(I({item:e}))}))})).catch((e=>{console.log(e)}));const f=new class{constructor(e,t){let{userName:s,userInfo:n}=e;this._name=document.querySelector(s),this._about=document.querySelector(n),this._avatar=document.querySelector(t)}getUserInfo(){return this._userData={name:this._name.textContent,about:this._about.textContent},this._userData}setUserAvatar(e){this._avatar.src=e}setUserInfo(e){this._name.textContent=e.name,this._about.textContent=e.about}}({userName:".user__name",userInfo:".user__info"},".user__avatar");m.getUserInfo().then((e=>(f.setUserInfo(e),f.setUserAvatar(e.avatar),p=e,p))).catch((e=>{console.log(e)}));const C=new t(i,h);C.enableValidation();const L=new t(i,o);L.enableValidation();const S=new t(i,d);function I(t){let{item:s}=t;return new e({item:s,handleCardClick:e=>{let{name:t,link:s}=e;E.open({name:t,link:s})}},r,U,q).generateCard(p)}function q(e){m.likeDelete(e._id).then((t=>{e._likeCounter.textContent=t.likes.length})).catch(m.likeAdd(e).then((t=>{e._likeCounter.textContent=t.likes.length})))}function U(e){b.openWithData(e)}S.enableValidation(),a.addEventListener("click",(()=>{L.resetValidation(),k.open();const e=f.getUserInfo();_.value=e.name,c.value=e.about})),l.addEventListener("click",(()=>{C.resetValidation(),v.open()})),u.addEventListener("click",(()=>{S.resetValidation(),g.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUk0QixXQUFXMUgsRUFBS1YsS0FDZm9ILE1BQU1DLElBQ0gzRyxFQUFLSCxhQUFhQyxZQUFjNkcsRUFBSXhILE1BQU1TLFVBRTdDa0ksTUFBT2hDLEVBQUkyQixRQUFRekgsR0FDZjBHLE1BQU1DLElBQ0gzRyxFQUFLSCxhQUFhQyxZQUFjNkcsRUFBSXhILE1BQU1TLFdBSTFELFNBQVNwQixFQUFrQndCLEdBQ3ZCNkksRUFBWTlELGFBQWEvRSxHQXRDN0JnSyxFQUFZNUcsbUJBcUVaa0MsRUFBV3RFLGlCQUFpQixTQUFTLEtBQ2pDK0ksRUFBYTVHLGtCQUNiMEUsRUFBaUI3RCxPQUNqQixNQUFNaUcsRUFBaUIvQixFQUFpQlosY0FDeEM5QixFQUFVVixNQUFRbUYsRUFBZWxMLEtBQ2pDMEcsRUFBVVgsTUFBUW1GLEVBQWUvQyxTQUdyQzNCLEVBQWN2RSxpQkFBaUIsU0FBUyxLQUNwQzhJLEVBQWEzRyxrQkFDYmdGLEVBQWlCbkUsVUFFckIyQixFQUFXM0UsaUJBQWlCLFNBQVMsS0FDakNnSixFQUFZN0csa0JBQ1oyRixFQUFlOUUsVSIsInNvdXJjZXMiOlsid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL2Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGl0ZW0sIGhhbmRsZUNhcmRDbGljayB9LCB0ZW1wbGF0ZVNlbGVjdG9yLCBoYW5kbGVEZWxldGVDbGljaywgaGFuZGxlTGlrZUNsaWNrKSB7XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xuICAgICAgICB0aGlzLl9uYW1lID0gaXRlbS5uYW1lO1xuICAgICAgICB0aGlzLl9saW5rID0gaXRlbS5saW5rO1xuICAgICAgICB0aGlzLl9saWtlcyA9IGl0ZW0ubGlrZXM7XG4gICAgICAgIHRoaXMuX293bmVySWQgPSBpdGVtLm93bmVyLl9pZDtcbiAgICAgICAgdGhpcy5faWQgPSBpdGVtLl9pZDtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG4gICAgICAgIHRoaXMuX2l0ZW0gPSBpdGVtO1xuICAgIH1cbiAgICBfY291bnRMaWtlKCkge1xuICAgICAgICBpZiAodGhpcy5fbGlrZXMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NoZWNrSW5pdGlhbExpa2UoZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5fbGlrZXMuc29tZShpdGVtID0+IGl0ZW0uX2lkID09IGRhdGEuX2lkKSkge1xuICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdnYWxsZXJ5X19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY29tcGFyZUlEKGRhdGEpIHtcbiAgICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fZGVsZXRlLWJ1dHRvbicpO1xuICAgICAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gZGF0YS5faWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX3RlbXBsYXRlU2VsZWN0b3JcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fY2FyZCcpXG4gICAgICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICB9XG4gICAgX2hhbmRsZUxpa2VCdXR0b24oKSB7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnZ2FsbGVyeV9fbGlrZS1idXR0b25fYWN0aXZlJyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzKTtcbiAgICB9XG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbigpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fZGVsZXRlLWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9jYXJkUGljdHVyZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRDbGljayh7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLFxuICAgICAgICAgICAgbGluazogdGhpcy5fbGlua1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdlbmVyYXRlQ2FyZChkYXRhKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgICAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fbGlrZS1idXR0b24nKTtcbiAgICAgICAgdGhpcy5fY2FyZFBpY3R1cmUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19waWN0dXJlJyk7XG4gICAgICAgIHRoaXMuX2xpa2VDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fbGlrZS1jb3VudGVyJyk7XG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX2NvbXBhcmVJRChkYXRhKTtcbiAgICAgICAgdGhpcy5fY2hlY2tJbml0aWFsTGlrZShkYXRhKTtcbiAgICAgICAgdGhpcy5fY291bnRMaWtlKCk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX3RleHQnKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgICAgIHRoaXMuX2NhcmRQaWN0dXJlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgICAgIHRoaXMuX2NhcmRQaWN0dXJlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB9XG5cbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcbiAgICAgICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcbiAgICB9XG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIH1cblxuICAgIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XG4gICAgICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20oaW5wdXRMaXN0KTtcbiAgICAgICAgcmV0dXJuIGlucHV0cy5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2hhbmRsZUlucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgICAgIGlmIChpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9zZXR0aW5ncy5pbnB1dFNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUlucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY2FwZUNsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvcGVuKCkge1xuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF92aXNpYmxlJyk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NhcGVDbG9zZSk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF92aXNpYmxlJyk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NhcGVDbG9zZSk7XG4gICAgfVxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfdmlzaWJsZScpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UtYnV0dG9uLWljb24nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZVN1Ym1pdCkge1xuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xuICAgICAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24nKTtcbiAgICB9XG4gICAgX2dldElucHV0VmFsdWVzKCkge1xuICAgICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgIH1cbiAgICBvcGVuV2l0aERhdGEoZGF0YSkge1xuICAgICAgICBzdXBlci5vcGVuKCk7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICAgIH1cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuX2RhdGEpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCIvL3BhZ2Ugc2V0dGluZ3NcblxuZXhwb3J0IGNvbnN0IHBhZ2VTZXR0aW5ncyA9IHtcbiAgICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gICAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl9hY3RpdmVcIlxufTsiLCIvL2ltcG9ydHNcbmltcG9ydCBcIi4vcGFnZXMvaW5kZXguY3NzXCI7XG5cbmltcG9ydCBDYXJkIGZyb20gXCIuL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4vY29tcG9uZW50cy9mb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQge1xuICAgIHBhZ2VTZXR0aW5ncyxcbn0gZnJvbSBcIi4vY29tcG9uZW50cy91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy92YXJpYWJsZXNcblxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpLmNvbnRlbnQ7XG5jb25zdCBlZGl0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybS1wcm9maWxlJyk7XG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXJfX2VkaXQtYnV0dG9uJyk7XG5jb25zdCBhZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXJfX2FkZC1idXR0b24nKTtcbmNvbnN0IGlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdmFsdWVfbmFtZScpO1xuY29uc3QgaW5wdXRJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF92YWx1ZV9hYm91dCcpO1xuY29uc3QgYWRkQ2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0tYWRkQ2FyZCcpO1xuY29uc3QgdXNlckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyX19hdmF0YXItd3JhcHBlcicpO1xuY29uc3QgYXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybS1hdmF0YXInKTtcbmxldCBjdXJyZW50VXNlckluZm8gPSB7fTtcblxuLy9jbGFzcyBpbnN0YW5jZXNcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICAgIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCIzMDJjYTM4Ny1iMzFhLTRjYjItOGNiOS0xOTdlMTg3ZGMzODJcIixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9XG59KTtcblxuXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX3Byb2ZpbGUnLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XG5wb3B1cEVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBvcHVwQWRkQ2FyZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfYWRkQ2FyZCcsIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0KTtcbnBvcHVwQWRkQ2FyZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX3R5cGVfaW1hZ2UnKTtcbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfZGVsZXRlJywgaGFuZGxlRGVsZXRlQ2FyZEZvcm1TdWJtaXQpO1xuZGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcG9wdXBGb3JBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfYXZhdGFyJywgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCk7XG5wb3B1cEZvckF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwYWdlR2FsbGVyeSA9IG5ldyBTZWN0aW9uKHtcbiAgICBpdGVtczogW10sXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICAgIHBhZ2VHYWxsZXJ5LmFkZEl0ZW0oY3JlYXRlQ2FyZCh7IGl0ZW0gfSkpO1xuICAgIH1cbn0sICcuZ2FsbGVyeScpO1xuXG5hcGkuZ2V0SW5pdGlhbENhcmRzKClcbiAgICAudGhlbigoY2FyZERhdGEpID0+IHtcbiAgICAgICAgY29uc3QgY2FyZHMgPSBBcnJheS5mcm9tKGNhcmREYXRhKTtcbiAgICAgICAgY2FyZHMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIHBhZ2VHYWxsZXJ5LmFkZEl0ZW0oY3JlYXRlQ2FyZCh7IGl0ZW0gfSkpO1xuICAgICAgICB9KTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcblxuY29uc3QgdXNlckluZm9JbnN0YW5jZSA9IG5ldyBVc2VySW5mbyh7IHVzZXJOYW1lOiAnLnVzZXJfX25hbWUnLCB1c2VySW5mbzogJy51c2VyX19pbmZvJyB9LCAnLnVzZXJfX2F2YXRhcicpO1xuXG5hcGkuZ2V0VXNlckluZm8oKVxuICAgIC50aGVuKChpbmZvKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvSW5zdGFuY2Uuc2V0VXNlckluZm8oaW5mbyk7XG4gICAgICAgIHVzZXJJbmZvSW5zdGFuY2Uuc2V0VXNlckF2YXRhcihpbmZvLmF2YXRhcik7XG4gICAgICAgIGN1cnJlbnRVc2VySW5mbyA9IGluZm87XG4gICAgICAgIHJldHVybiBjdXJyZW50VXNlckluZm87XG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG5cbi8vdmFsaWRhdG9yc1xuXG5jb25zdCBwb3B1cEFkZENhcmQgPSBuZXcgRm9ybVZhbGlkYXRvcihwYWdlU2V0dGluZ3MsIGFkZENhcmRGb3JtKTtcbnBvcHVwQWRkQ2FyZC5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHBvcHVwUHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKHBhZ2VTZXR0aW5ncywgZWRpdEZvcm0pO1xucG9wdXBQcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgRm9ybVZhbGlkYXRvcihwYWdlU2V0dGluZ3MsIGF2YXRhckZvcm0pO1xuYXZhdGFyUG9wdXAuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vL2Z1bmN0aW9uc1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKHsgaXRlbSB9KSB7XG4gICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHtcbiAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICBoYW5kbGVDYXJkQ2xpY2s6ICh7IG5hbWUsIGxpbmsgfSkgPT4ge1xuICAgICAgICAgICAgICAgIHBvcHVwSW1hZ2Uub3Blbih7IG5hbWUsIGxpbmsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNhcmRUZW1wbGF0ZSxcbiAgICAgICAgaGFuZGxlRGVsZXRlQ2xpY2ssIGhhbmRsZUxpa2VDbGljayk7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZChjdXJyZW50VXNlckluZm8pO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCgpIHtcbiAgICBjb25zdCBkYXRhID0gcG9wdXBGb3JBdmF0YXIuX2dldElucHV0VmFsdWVzKCk7XG4gICAgYXBpLmVkaXRQcm9maWxlUGhvdG8oZGF0YS51cmwpXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KVxuICAgIHVzZXJJbmZvSW5zdGFuY2Uuc2V0VXNlckF2YXRhcihkYXRhLnVybCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhkYXRhKSB7XG4gICAgYXBpLmxpa2VEZWxldGUoZGF0YS5faWQpXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGRhdGEuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gcmVzLmxpa2VzLmxlbmd0aDtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChhcGkubGlrZUFkZChkYXRhKVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGRhdGEuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gcmVzLmxpa2VzLmxlbmd0aDtcbiAgICAgICAgICAgIH0pKSlcbn1cblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soZGF0YSkge1xuICAgIGRlbGV0ZVBvcHVwLm9wZW5XaXRoRGF0YShkYXRhKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2FyZEZvcm1TdWJtaXQoZGF0YSkge1xuICAgIGFwaS5kZWxldGVDYXJkKGRhdGEpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgZGF0YS5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIGRlbGV0ZVBvcHVwLmNsb3NlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KVxufVxuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCgpIHtcbiAgICBhcGkuc2V0VXNlckluZm8ocG9wdXBFZGl0UHJvZmlsZS5fZ2V0SW5wdXRWYWx1ZXMoKSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pXG4gICAgdXNlckluZm9JbnN0YW5jZS5zZXRVc2VySW5mbyhwb3B1cEVkaXRQcm9maWxlLl9nZXRJbnB1dFZhbHVlcygpKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXQoKSB7XG4gICAgY29uc3QgZ2V0VmFsdWVzID0gcG9wdXBBZGRDYXJkRm9ybS5fZ2V0SW5wdXRWYWx1ZXMoKTtcbiAgICBjb25zdCBkYXRhID0geyBuYW1lOiBnZXRWYWx1ZXMudGl0bGUsIGxpbms6IGdldFZhbHVlcy51cmwgfTtcbiAgICBhcGkuc2VuZENhcmREYXRhKGRhdGEpLnRoZW4oKGl0ZW0pID0+IHtcbiAgICAgICAgcGFnZUdhbGxlcnkuYWRkSXRlbShjcmVhdGVDYXJkKHsgaXRlbSB9KSk7XG4gICAgfSk7XG4gICAgYWRkQ2FyZEZvcm0ucmVzZXQoKTtcbn1cbi8vZXZlbnQgbGlzdGVuZXJzXG5cbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcG9wdXBQcm9maWxlLnJlc2V0VmFsaWRhdGlvbigpO1xuICAgIHBvcHVwRWRpdFByb2ZpbGUub3BlbigpO1xuICAgIGNvbnN0IHVzZXJBY3R1YWxJbmZvID0gdXNlckluZm9JbnN0YW5jZS5nZXRVc2VySW5mbygpO1xuICAgIGlucHV0TmFtZS52YWx1ZSA9IHVzZXJBY3R1YWxJbmZvLm5hbWU7XG4gICAgaW5wdXRJbmZvLnZhbHVlID0gdXNlckFjdHVhbEluZm8uYWJvdXQ7XG59KTtcblxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBwb3B1cEFkZENhcmQucmVzZXRWYWxpZGF0aW9uKCk7XG4gICAgcG9wdXBBZGRDYXJkRm9ybS5vcGVuKCk7XG59KTtcbnVzZXJBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgYXZhdGFyUG9wdXAucmVzZXRWYWxpZGF0aW9uKCk7XG4gICAgcG9wdXBGb3JBdmF0YXIub3BlbigpO1xufSk7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gICAgfVxuICAgIHNlbmRDYXJkRGF0YShpdGVtKSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBpdGVtLm5hbWU7XG4gICAgICAgIHRoaXMuX2xpbmsgPSBpdGVtLmxpbms7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLFxuICAgICAgICAgICAgICAgICAgICBsaW5rOiB0aGlzLl9saW5rXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgICAgIH0pXG4gICAgfVxuICAgIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQsIGF2YXRhciB9KSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLl9hYm91dCA9IGFib3V0O1xuICAgICAgICB0aGlzLl9hdmF0YXIgPSBhdmF0YXI7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5fbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0LFxuICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhclxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICAgICAgICB9KVxuICAgIH1cbiAgICBnZXRVc2VySW5mbygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICAgICAgICB9KVxuICAgIH1cbiAgICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlbGV0ZUNhcmQoZGF0YSkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtkYXRhLl9pZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGlrZUFkZChkYXRhKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2RhdGEuX2lkfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIH0pLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgfSlcbiAgICB9XG4gICAgbGlrZURlbGV0ZShkYXRhKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2RhdGF9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgICB9KVxuICAgIH1cbiAgICBlZGl0UHJvZmlsZVBob3RvKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBhdmF0YXI6IGRhdGFcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgfSlcbiAgICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICAgIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudFBpYyA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudFRleHQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLXRleHQnKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudFBpYy5zcmMgPSBsaW5rO1xuICAgICAgICB0aGlzLl9lbGVtZW50UGljLmFsdCA9IGAke25hbWV9IHBob3RvYDtcbiAgICAgICAgdGhpcy5fZWxlbWVudFRleHQudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgICAgICBzdXBlci5vcGVuKCk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtcztcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHJlbmRlckl0ZW1zKCkge1xuICAgICAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lLCB1c2VySW5mbyB9LCBhdmF0YXIpIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWUpO1xuICAgICAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckluZm8pO1xuICAgICAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhcik7XG4gICAgfVxuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICB0aGlzLl91c2VyRGF0YSA9IHsgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCwgYWJvdXQ6IHRoaXMuX2Fib3V0LnRleHRDb250ZW50IH07XG4gICAgICAgIHJldHVybiB0aGlzLl91c2VyRGF0YTtcbiAgICB9XG4gICAgc2V0VXNlckF2YXRhcihkYXRhKSB7XG4gICAgICAgIHRoaXMuX2F2YXRhci5zcmMgPSBkYXRhO1xuICAgIH1cbiAgICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgICAgIHRoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgICB9XG59Il0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VDbGljayIsIml0ZW0iLCJoYW5kbGVDYXJkQ2xpY2siLCJ0aGlzIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9pdGVtIiwiX2NvdW50TGlrZSIsImxlbmd0aCIsIl9saWtlQ291bnRlciIsInRleHRDb250ZW50IiwiX2NoZWNrSW5pdGlhbExpa2UiLCJkYXRhIiwic29tZSIsIl9saWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkIiwiX2NvbXBhcmVJRCIsIl9kZWxldGVCdXR0b24iLCJfZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImRpc3BsYXkiLCJfZ2V0VGVtcGxhdGUiLCJjbG9uZU5vZGUiLCJfaGFuZGxlTGlrZUJ1dHRvbiIsInRvZ2dsZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2FyZFBpY3R1cmUiLCJnZW5lcmF0ZUNhcmQiLCJzcmMiLCJhbHQiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9zZXR0aW5ncyIsIl9mb3JtRWxlbWVudCIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsIl9lcnJvckVsZW1lbnQiLCJpZCIsImlucHV0RXJyb3JDbGFzcyIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JDbGFzcyIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJpbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2lucHV0TGlzdCIsIl9zdWJtaXRCdXR0b24iLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfaGFuZGxlSW5wdXRWYWxpZGl0eSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJmb3JFYWNoIiwicmVzZXRWYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiZG9jdW1lbnQiLCJfaGFuZGxlRXNjYXBlQ2xvc2UiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwia2V5IiwiY2xvc2UiLCJvcGVuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlU3VibWl0IiwiX2Zvcm0iLCJfYnV0dG9uIiwiX2dldElucHV0VmFsdWVzIiwiX2RhdGEiLCJpbnB1dCIsInZhbHVlIiwib3BlbldpdGhEYXRhIiwicmVzZXQiLCJwYWdlU2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJjYXJkVGVtcGxhdGUiLCJjb250ZW50IiwiZWRpdEZvcm0iLCJlZGl0QnV0dG9uIiwiYWRkQ2FyZEJ1dHRvbiIsImlucHV0TmFtZSIsImlucHV0SW5mbyIsImFkZENhcmRGb3JtIiwidXNlckF2YXRhciIsImF2YXRhckZvcm0iLCJjdXJyZW50VXNlckluZm8iLCJhcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwic2VuZENhcmREYXRhIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwic2V0VXNlckluZm8iLCJhYm91dCIsImF2YXRhciIsIl9hYm91dCIsIl9hdmF0YXIiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsImRlbGV0ZUNhcmQiLCJsaWtlQWRkIiwibGlrZURlbGV0ZSIsImVkaXRQcm9maWxlUGhvdG8iLCJhdXRob3JpemF0aW9uIiwicG9wdXBFZGl0UHJvZmlsZSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInVzZXJJbmZvSW5zdGFuY2UiLCJwb3B1cEFkZENhcmRGb3JtIiwiZ2V0VmFsdWVzIiwidGl0bGUiLCJ1cmwiLCJwYWdlR2FsbGVyeSIsImFkZEl0ZW0iLCJjcmVhdGVDYXJkIiwicG9wdXBJbWFnZSIsIl9lbGVtZW50UGljIiwiX2VsZW1lbnRUZXh0IiwiZGVsZXRlUG9wdXAiLCJwb3B1cEZvckF2YXRhciIsInNldFVzZXJBdmF0YXIiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsInJlbmRlckl0ZW1zIiwiY2FyZERhdGEiLCJ1c2VyTmFtZSIsInVzZXJJbmZvIiwiX3VzZXJEYXRhIiwiaW5mbyIsInBvcHVwQWRkQ2FyZCIsInBvcHVwUHJvZmlsZSIsImF2YXRhclBvcHVwIiwidXNlckFjdHVhbEluZm8iXSwic291cmNlUm9vdCI6IiJ9