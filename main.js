!function(){"use strict";class e{constructor(e,t,s,n){let{item:i,handleCardClick:r}=e;this._templateSelector=t,this._name=i.name,this._link=i.link,this._likes=i.likes,this._ownerId=i.owner._id,this._id=i._id,this._handleCardClick=r,this._handleDeleteClick=s,this._handleLikeClick=n,this._item=i}_countLike(){this._likes.length<1?this._likeCounter.textContent="":this._likeCounter.textContent=this._likes.length}_checkInitialLike(e){this._likes.some((t=>t._id==e._id))&&this._likeButton.classList.add("gallery__like-button_active")}_compareID(e){this._deleteButton=this._element.querySelector(".gallery__delete-button"),this._ownerId!==e._id&&(this._deleteButton.style.display="none")}_getTemplate(){return this._element=this._templateSelector.querySelector(".gallery__card").cloneNode(!0),this._element}_handleLikeButton(){this._likeButton.classList.toggle("gallery__like-button_active"),this._handleLikeClick(this)}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeButton()})),this._element.querySelector(".gallery__delete-button").addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._cardPicture.addEventListener("click",(()=>this._handleCardClick({name:this._name,link:this._link})))}generateCard(e){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".gallery__like-button"),this._cardPicture=this._element.querySelector(".gallery__picture"),this._likeCounter=this._element.querySelector(".gallery__like-counter"),this._setEventListeners(),this._compareID(e),this._checkInitialLike(e),this._countLike(),this._element.querySelector(".gallery__text").textContent=this._name,this._cardPicture.src=this._link,this._cardPicture.alt=this._name,this._element}}class t{constructor(e,t){this._settings=e,this._formElement=t}_showInputError(e){this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.add(this._settings.inputErrorClass),this._errorElement.textContent=e.validationMessage,this._errorElement.classList.add(this._settings.errorClass)}_hideInputError(e){this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.remove(this._settings.inputErrorClass),this._errorElement.classList.remove(this._settings.errorClass),this._errorElement.textContent=""}_hasInvalidInput(e){return Array.from(e).some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput(this._inputList)?(this._submitButton.classList.add(this._settings.inactiveButtonClass),this._submitButton.disabled=!0):(this._submitButton.classList.remove(this._settings.inactiveButtonClass),this._submitButton.disabled=!1)}_handleInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_setEventListeners(){this._inputList=this._formElement.querySelectorAll(this._settings.inputSelector),this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._handleInputValidity(e),this._toggleButtonState()}))}))}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class s{constructor(e){this._popup=document.querySelector(e),this._handleEscapeClose=this._handleEscClose.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.close()}open(){this._popup.classList.add("popup_visible"),document.addEventListener("keydown",this._handleEscapeClose)}close(){this._popup.classList.remove("popup_visible"),document.removeEventListener("keydown",this._handleEscapeClose)}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup_visible")||e.target.classList.contains("popup__close-button-icon"))&&this.close()}))}}class n extends s{constructor(e,t){super(e),this._handleSubmit=t,this._form=this._popup.querySelector(".popup__form"),this._button=this._form.querySelector(".popup__button")}_getInputValues(){return this._data={},this._inputList=this._popup.querySelectorAll(".popup__input"),this._inputList.forEach((e=>{this._data[e.name]=e.value})),this._data}openWithData(e){super.open(),this._data=e}close(){super.close(),this._form.reset()}setEventListeners(){super.setEventListeners(),this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._button.textContent="Saving...",this._handleSubmit(this._data),this.close(),this._button.textContent="Save"}))}}const i={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_active"},r=document.querySelector("#card-template").content,o=document.querySelector(".popup__form-profile"),a=document.querySelector(".user__edit-button"),l=document.querySelector(".user__add-button"),_=document.querySelector(".popup__input_value_name"),c=document.querySelector(".popup__input_value_about"),h=document.querySelector(".popup__form-addCard"),u=document.querySelector(".user__avatar-wrapper"),d=document.querySelector(".popup__form-avatar");let p={};const m=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}sendCardData(e){return this._name=e.name,this._link=e.link,fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:this._name,link:this._link})}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}setUserInfo(e){let{name:t,about:s,avatar:n}=e;return this._name=t,this._about=s,this._avatar=n,fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:this._name,about:this._about,avatar:this._avatar})}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}getInitialCards(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}deleteCard(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e._id),{method:"DELETE",headers:this._headers})}likeAdd(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e._id),{method:"PUT",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}likeDelete(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}editProfilePhoto(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"302ca387-b31a-4cb2-8cb9-197e187dc382","Content-Type":"application/json"}}),k=new n(".popup_type_profile",(function(){m.setUserInfo(k._getInputValues()).catch((e=>{console.log(e)})),f.setUserInfo(k._getInputValues())}));k.setEventListeners();const v=new n(".popup_type_addCard",(function(){const e=v._getInputValues(),t={name:e.title,link:e.url};m.sendCardData(t).then((e=>{y.addItem(S({item:e}))})),h.reset()}));v.setEventListeners();const E=new class extends s{open(e){let{name:t,link:s}=e;this._elementPic=this._popup.querySelector(".popup__image"),this._elementText=this._popup.querySelector(".popup__image-text"),this._elementPic.src=s,this._elementPic.alt="".concat(t," photo"),this._elementText.textContent=t,super.open()}}(".popup_type_image");E.setEventListeners();const b=new n(".popup_type_delete",(function(e){m.deleteCard(e).then((t=>{e._element.remove(),b.close()})).catch((e=>{console.log(e)}))}));b.setEventListeners();const g=new n(".popup_type_avatar",(function(){const e=g._getInputValues();m.editProfilePhoto(e.url).catch((e=>{console.log(e)})),f.setUserAvatar(e.url)}));g.setEventListeners();const y=new class{constructor(e,t){let{items:s,renderer:n}=e;this._renderedItems=s,this._renderer=n,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}renderItems(){this._renderedItems.forEach((e=>{this._renderer(e)}))}}({items:[],renderer:e=>{y.addItem(S({item:e}))}},".gallery");m.getInitialCards().then((e=>{Array.from(e).forEach((e=>{y.addItem(S({item:e}))}))})).catch((e=>{console.log(e)}));const f=new class{constructor(e,t){let{userName:s,userInfo:n}=e;this._name=document.querySelector(s),this._about=document.querySelector(n),this._avatar=document.querySelector(t)}getUserInfo(){return this._userData={name:this._name.textContent,about:this._about.textContent},this._userData}setUserAvatar(e){this._avatar.src=e}setUserInfo(e){this._name.textContent=e.name,this._about.textContent=e.about}}({userName:".user__name",userInfo:".user__info"},".user__avatar");m.getUserInfo().then((e=>(f.setUserInfo(e),f.setUserAvatar(e.avatar),p=e,p))).catch((e=>{console.log(e)}));const C=new t(i,h);C.enableValidation();const L=new t(i,o);function S(t){let{item:s}=t;return new e({item:s,handleCardClick:e=>{let{name:t,link:s}=e;E.open({name:t,link:s})}},r,q,I).generateCard(p)}function I(e){m.likeDelete(e._id).then((t=>{e._likeCounter.textContent=t.likes.length})).catch(m.likeAdd(e).then((t=>{e._likeCounter.textContent=t.likes.length})))}function q(e){b.openWithData(e)}L.enableValidation(),new t(i,d).enableValidation(),a.addEventListener("click",(()=>{L.resetValidation(),k.open();const e=f.getUserInfo();_.value=e.name,c.value=e.about})),l.addEventListener("click",(()=>{C.resetValidation(),v.open()})),u.addEventListener("click",(()=>{g.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YzZHLEVBQUl4SCxNQUFNUyxVQUU3Q2tJLE1BQU9oQyxFQUFJMkIsUUFBUXpILEdBQ2YwRyxNQUFNQyxJQUNIM0csRUFBS0gsYUFBYUMsWUFBYzZHLEVBQUl4SCxNQUFNUyxXQUkxRCxTQUFTcEIsRUFBa0J3QixHQUN2QjZJLEVBQVk5RCxhQUFhL0UsR0F6QzdCK0osRUFBYTNHLG1CQUVPLElBQUkvQixFQUFjNEQsRUFBY1csR0FDeEN4QyxtQkFxRVprQyxFQUFXdEUsaUJBQWlCLFNBQVMsS0FDakMrSSxFQUFhNUcsa0JBQ2IwRSxFQUFpQjdELE9BQ2pCLE1BQU1nRyxFQUFpQjlCLEVBQWlCWixjQUN4QzlCLEVBQVVWLE1BQVFrRixFQUFlakwsS0FDakMwRyxFQUFVWCxNQUFRa0YsRUFBZTlDLFNBR3JDM0IsRUFBY3ZFLGlCQUFpQixTQUFTLEtBQ3BDOEksRUFBYTNHLGtCQUNiZ0YsRUFBaUJuRSxVQUVyQjJCLEVBQVczRSxpQkFBaUIsU0FBUyxLQUNqQzhILEVBQWU5RSxVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvZm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICAgIGNvbnN0cnVjdG9yKHsgaXRlbSwgaGFuZGxlQ2FyZENsaWNrIH0sIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZURlbGV0ZUNsaWNrLCBoYW5kbGVMaWtlQ2xpY2spIHtcbiAgICAgICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX25hbWUgPSBpdGVtLm5hbWU7XG4gICAgICAgIHRoaXMuX2xpbmsgPSBpdGVtLmxpbms7XG4gICAgICAgIHRoaXMuX2xpa2VzID0gaXRlbS5saWtlcztcbiAgICAgICAgdGhpcy5fb3duZXJJZCA9IGl0ZW0ub3duZXIuX2lkO1xuICAgICAgICB0aGlzLl9pZCA9IGl0ZW0uX2lkO1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgICAgICAgdGhpcy5faXRlbSA9IGl0ZW07XG4gICAgfVxuICAgIF9jb3VudExpa2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9saWtlcy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2hlY2tJbml0aWFsTGlrZShkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLl9saWtlcy5zb21lKGl0ZW0gPT4gaXRlbS5faWQgPT0gZGF0YS5faWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2dhbGxlcnlfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9jb21wYXJlSUQoZGF0YSkge1xuICAgICAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19kZWxldGUtYnV0dG9uJyk7XG4gICAgICAgIGlmICh0aGlzLl9vd25lcklkICE9PSBkYXRhLl9pZCkge1xuICAgICAgICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2dldFRlbXBsYXRlKCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fdGVtcGxhdGVTZWxlY3RvclxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19jYXJkJylcbiAgICAgICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgIH1cbiAgICBfaGFuZGxlTGlrZUJ1dHRvbigpIHtcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdnYWxsZXJ5X19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMpO1xuICAgIH1cbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19kZWxldGUtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2NhcmRQaWN0dXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWUsXG4gICAgICAgICAgICBsaW5rOiB0aGlzLl9saW5rXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2VuZXJhdGVDYXJkKGRhdGEpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19saWtlLWJ1dHRvbicpO1xuICAgICAgICB0aGlzLl9jYXJkUGljdHVyZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX3BpY3R1cmUnKTtcbiAgICAgICAgdGhpcy5fbGlrZUNvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19saWtlLWNvdW50ZXInKTtcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fY29tcGFyZUlEKGRhdGEpO1xuICAgICAgICB0aGlzLl9jaGVja0luaXRpYWxMaWtlKGRhdGEpO1xuICAgICAgICB0aGlzLl9jb3VudExpa2UoKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fdGV4dCcpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICAgICAgdGhpcy5fY2FyZFBpY3R1cmUuc3JjID0gdGhpcy5fbGluaztcbiAgICAgICAgdGhpcy5fY2FyZFBpY3R1cmUuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIH1cblxuICAgIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xuICAgIH1cbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcbiAgICAgICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuZXJyb3JDbGFzcyk7XG4gICAgICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgfVxuXG4gICAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcbiAgICAgICAgY29uc3QgaW5wdXRzID0gQXJyYXkuZnJvbShpbnB1dExpc3QpO1xuICAgICAgICByZXR1cm4gaW5wdXRzLnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRMaXN0KSkge1xuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaGFuZGxlSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NldHRpbmdzLmlucHV0U2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9wZW4oKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX3Zpc2libGUnKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY2FwZUNsb3NlKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX3Zpc2libGUnKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY2FwZUNsb3NlKTtcbiAgICB9XG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF92aXNpYmxlJykgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZS1idXR0b24taWNvbicpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0KSB7XG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbiAgICAgICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbicpO1xuICAgIH1cbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGFbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgfVxuICAgIG9wZW5XaXRoRGF0YShkYXRhKSB7XG4gICAgICAgIHN1cGVyLm9wZW4oKTtcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICBzdXBlci5jbG9zZSgpO1xuICAgICAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgfVxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQodGhpcy5fZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsIi8vcGFnZSBzZXR0aW5nc1xuXG5leHBvcnQgY29uc3QgcGFnZVNldHRpbmdzID0ge1xuICAgIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICAgIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICAgIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX2FjdGl2ZVwiXG59OyIsIi8vaW1wb3J0c1xuaW1wb3J0IFwiLi9wYWdlcy9pbmRleC5jc3NcIjtcblxuaW1wb3J0IENhcmQgZnJvbSBcIi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi9jb21wb25lbnRzL2Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCB7XG4gICAgcGFnZVNldHRpbmdzLFxufSBmcm9tIFwiLi9jb21wb25lbnRzL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG4vL3ZhcmlhYmxlc1xuXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIikuY29udGVudDtcbmNvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtLXByb2ZpbGUnKTtcbmNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlcl9fZWRpdC1idXR0b24nKTtcbmNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlcl9fYWRkLWJ1dHRvbicpO1xuY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF92YWx1ZV9uYW1lJyk7XG5jb25zdCBpbnB1dEluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3ZhbHVlX2Fib3V0Jyk7XG5jb25zdCBhZGRDYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybS1hZGRDYXJkJyk7XG5jb25zdCB1c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXJfX2F2YXRhci13cmFwcGVyJyk7XG5jb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtLWF2YXRhcicpO1xubGV0IGN1cnJlbnRVc2VySW5mbyA9IHt9O1xuXG4vL2NsYXNzIGluc3RhbmNlc1xuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gICAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiBcIjMwMmNhMzg3LWIzMWEtNGNiMi04Y2I5LTE5N2UxODdkYzM4MlwiLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgIH1cbn0pO1xuXG5cbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfcHJvZmlsZScsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcbnBvcHVwRWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcG9wdXBBZGRDYXJkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9hZGRDYXJkJywgaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXQpO1xucG9wdXBBZGRDYXJkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfdHlwZV9pbWFnZScpO1xucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBkZWxldGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9kZWxldGUnLCBoYW5kbGVEZWxldGVDYXJkRm9ybVN1Ym1pdCk7XG5kZWxldGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cEZvckF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9hdmF0YXInLCBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KTtcbnBvcHVwRm9yQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBhZ2VHYWxsZXJ5ID0gbmV3IFNlY3Rpb24oe1xuICAgIGl0ZW1zOiBbXSxcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgICAgcGFnZUdhbGxlcnkuYWRkSXRlbShjcmVhdGVDYXJkKHsgaXRlbSB9KSk7XG4gICAgfVxufSwgJy5nYWxsZXJ5Jyk7XG5cbmFwaS5nZXRJbml0aWFsQ2FyZHMoKVxuICAgIC50aGVuKChjYXJkRGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkcyA9IEFycmF5LmZyb20oY2FyZERhdGEpO1xuICAgICAgICBjYXJkcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgcGFnZUdhbGxlcnkuYWRkSXRlbShjcmVhdGVDYXJkKHsgaXRlbSB9KSk7XG4gICAgICAgIH0pO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuXG5jb25zdCB1c2VySW5mb0luc3RhbmNlID0gbmV3IFVzZXJJbmZvKHsgdXNlck5hbWU6ICcudXNlcl9fbmFtZScsIHVzZXJJbmZvOiAnLnVzZXJfX2luZm8nIH0sICcudXNlcl9fYXZhdGFyJyk7XG5cbmFwaS5nZXRVc2VySW5mbygpXG4gICAgLnRoZW4oKGluZm8pID0+IHtcbiAgICAgICAgdXNlckluZm9JbnN0YW5jZS5zZXRVc2VySW5mbyhpbmZvKTtcbiAgICAgICAgdXNlckluZm9JbnN0YW5jZS5zZXRVc2VyQXZhdGFyKGluZm8uYXZhdGFyKTtcbiAgICAgICAgY3VycmVudFVzZXJJbmZvID0gaW5mbztcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VySW5mbztcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcblxuLy92YWxpZGF0b3JzXG5cbmNvbnN0IHBvcHVwQWRkQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKHBhZ2VTZXR0aW5ncywgYWRkQ2FyZEZvcm0pO1xucG9wdXBBZGRDYXJkLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IEZvcm1WYWxpZGF0b3IocGFnZVNldHRpbmdzLCBlZGl0Rm9ybSk7XG5wb3B1cFByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBhdmF0YXJQb3B1cCA9IG5ldyBGb3JtVmFsaWRhdG9yKHBhZ2VTZXR0aW5ncywgYXZhdGFyRm9ybSk7XG5hdmF0YXJQb3B1cC5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vZnVuY3Rpb25zXG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoeyBpdGVtIH0pIHtcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoe1xuICAgICAgICAgICAgaXRlbSxcbiAgICAgICAgICAgIGhhbmRsZUNhcmRDbGljazogKHsgbmFtZSwgbGluayB9KSA9PiB7XG4gICAgICAgICAgICAgICAgcG9wdXBJbWFnZS5vcGVuKHsgbmFtZSwgbGluayB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2FyZFRlbXBsYXRlLFxuICAgICAgICBoYW5kbGVEZWxldGVDbGljaywgaGFuZGxlTGlrZUNsaWNrKTtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKGN1cnJlbnRVc2VySW5mbyk7XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KCkge1xuICAgIGNvbnN0IGRhdGEgPSBwb3B1cEZvckF2YXRhci5fZ2V0SW5wdXRWYWx1ZXMoKTtcbiAgICBhcGkuZWRpdFByb2ZpbGVQaG90byhkYXRhLnVybClcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pXG4gICAgdXNlckluZm9JbnN0YW5jZS5zZXRVc2VyQXZhdGFyKGRhdGEudXJsKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGRhdGEpIHtcbiAgICBhcGkubGlrZURlbGV0ZShkYXRhLl9pZClcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgZGF0YS5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSByZXMubGlrZXMubGVuZ3RoO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGFwaS5saWtlQWRkKGRhdGEpXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgZGF0YS5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSByZXMubGlrZXMubGVuZ3RoO1xuICAgICAgICAgICAgfSkpKVxufVxuXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljayhkYXRhKSB7XG4gICAgZGVsZXRlUG9wdXAub3BlbldpdGhEYXRhKGRhdGEpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDYXJkRm9ybVN1Ym1pdChkYXRhKSB7XG4gICAgYXBpLmRlbGV0ZUNhcmQoZGF0YSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBkYXRhLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgZGVsZXRlUG9wdXAuY2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pXG59XG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KCkge1xuICAgIGFwaS5zZXRVc2VySW5mbyhwb3B1cEVkaXRQcm9maWxlLl9nZXRJbnB1dFZhbHVlcygpKVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSlcbiAgICB1c2VySW5mb0luc3RhbmNlLnNldFVzZXJJbmZvKHBvcHVwRWRpdFByb2ZpbGUuX2dldElucHV0VmFsdWVzKCkpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdCgpIHtcbiAgICBjb25zdCBnZXRWYWx1ZXMgPSBwb3B1cEFkZENhcmRGb3JtLl9nZXRJbnB1dFZhbHVlcygpO1xuICAgIGNvbnN0IGRhdGEgPSB7IG5hbWU6IGdldFZhbHVlcy50aXRsZSwgbGluazogZ2V0VmFsdWVzLnVybCB9O1xuICAgIGFwaS5zZW5kQ2FyZERhdGEoZGF0YSkudGhlbigoaXRlbSkgPT4ge1xuICAgICAgICBwYWdlR2FsbGVyeS5hZGRJdGVtKGNyZWF0ZUNhcmQoeyBpdGVtIH0pKTtcbiAgICB9KTtcbiAgICBhZGRDYXJkRm9ybS5yZXNldCgpO1xufVxuLy9ldmVudCBsaXN0ZW5lcnNcblxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBwb3B1cFByb2ZpbGUucmVzZXRWYWxpZGF0aW9uKCk7XG4gICAgcG9wdXBFZGl0UHJvZmlsZS5vcGVuKCk7XG4gICAgY29uc3QgdXNlckFjdHVhbEluZm8gPSB1c2VySW5mb0luc3RhbmNlLmdldFVzZXJJbmZvKCk7XG4gICAgaW5wdXROYW1lLnZhbHVlID0gdXNlckFjdHVhbEluZm8ubmFtZTtcbiAgICBpbnB1dEluZm8udmFsdWUgPSB1c2VyQWN0dWFsSW5mby5hYm91dDtcbn0pO1xuXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHBvcHVwQWRkQ2FyZC5yZXNldFZhbGlkYXRpb24oKTtcbiAgICBwb3B1cEFkZENhcmRGb3JtLm9wZW4oKTtcbn0pO1xudXNlckF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBwb3B1cEZvckF2YXRhci5vcGVuKCk7XG59KTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgICB9XG4gICAgc2VuZENhcmREYXRhKGl0ZW0pIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IGl0ZW0ubmFtZTtcbiAgICAgICAgdGhpcy5fbGluayA9IGl0ZW0ubGluaztcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWUsXG4gICAgICAgICAgICAgICAgICAgIGxpbms6IHRoaXMuX2xpbmtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgICAgICAgfSlcbiAgICB9XG4gICAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyIH0pIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX2Fib3V0ID0gYWJvdXQ7XG4gICAgICAgIHRoaXMuX2F2YXRhciA9IGF2YXRhcjtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLFxuICAgICAgICAgICAgICAgICAgICBhYm91dDogdGhpcy5fYWJvdXQsXG4gICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgICAgIH0pXG4gICAgfVxuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgICAgIH0pXG4gICAgfVxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVsZXRlQ2FyZChkYXRhKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2RhdGEuX2lkfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsaWtlQWRkKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7ZGF0YS5faWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgICB9KVxuICAgIH1cbiAgICBsaWtlRGVsZXRlKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7ZGF0YX1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICB9KS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICAgIH0pXG4gICAgfVxuICAgIGVkaXRQcm9maWxlUGhvdG8oZGF0YSkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGF2YXRhcjogZGF0YVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgICB9KVxuICAgIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gICAgb3Blbih7IG5hbWUsIGxpbmsgfSkge1xuICAgICAgICB0aGlzLl9lbGVtZW50UGljID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xuICAgICAgICB0aGlzLl9lbGVtZW50VGV4dCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UtdGV4dCcpO1xuICAgICAgICB0aGlzLl9lbGVtZW50UGljLnNyYyA9IGxpbms7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRQaWMuYWx0ID0gYCR7bmFtZX0gcGhvdG9gO1xuICAgICAgICB0aGlzLl9lbGVtZW50VGV4dC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgIHN1cGVyLm9wZW4oKTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRJdGVtcyA9IGl0ZW1zO1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmVuZGVySXRlbXMoKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICAgIGNvbnN0cnVjdG9yKHsgdXNlck5hbWUsIHVzZXJJbmZvIH0sIGF2YXRhcikge1xuICAgICAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZSk7XG4gICAgICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VySW5mbyk7XG4gICAgICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyKTtcbiAgICB9XG4gICAgZ2V0VXNlckluZm8oKSB7XG4gICAgICAgIHRoaXMuX3VzZXJEYXRhID0geyBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LCBhYm91dDogdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJEYXRhO1xuICAgIH1cbiAgICBzZXRVc2VyQXZhdGFyKGRhdGEpIHtcbiAgICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IGRhdGE7XG4gICAgfVxuICAgIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICAgICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICAgICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICAgIH1cbn0iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiaXRlbSIsImhhbmRsZUNhcmRDbGljayIsInRoaXMiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwiX293bmVySWQiLCJvd25lciIsIl9pZCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2l0ZW0iLCJfY291bnRMaWtlIiwibGVuZ3RoIiwiX2xpa2VDb3VudGVyIiwidGV4dENvbnRlbnQiLCJfY2hlY2tJbml0aWFsTGlrZSIsImRhdGEiLCJzb21lIiwiX2xpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJfY29tcGFyZUlEIiwiX2RlbGV0ZUJ1dHRvbiIsIl9lbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInN0eWxlIiwiZGlzcGxheSIsIl9nZXRUZW1wbGF0ZSIsImNsb25lTm9kZSIsIl9oYW5kbGVMaWtlQnV0dG9uIiwidG9nZ2xlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jYXJkUGljdHVyZSIsImdlbmVyYXRlQ2FyZCIsInNyYyIsImFsdCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX3NldHRpbmdzIiwiX2Zvcm1FbGVtZW50IiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiX2Vycm9yRWxlbWVudCIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvckNsYXNzIiwiX2hpZGVJbnB1dEVycm9yIiwicmVtb3ZlIiwiX2hhc0ludmFsaWRJbnB1dCIsImlucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInZhbGlkaXR5IiwidmFsaWQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaW5wdXRMaXN0IiwiX3N1Ym1pdEJ1dHRvbiIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsIl9oYW5kbGVJbnB1dFZhbGlkaXR5IiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImZvckVhY2giLCJyZXNldFZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJkb2N1bWVudCIsIl9oYW5kbGVFc2NhcGVDbG9zZSIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJrZXkiLCJjbG9zZSIsIm9wZW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVTdWJtaXQiLCJfZm9ybSIsIl9idXR0b24iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfZGF0YSIsImlucHV0IiwidmFsdWUiLCJvcGVuV2l0aERhdGEiLCJyZXNldCIsInBhZ2VTZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImNhcmRUZW1wbGF0ZSIsImNvbnRlbnQiLCJlZGl0Rm9ybSIsImVkaXRCdXR0b24iLCJhZGRDYXJkQnV0dG9uIiwiaW5wdXROYW1lIiwiaW5wdXRJbmZvIiwiYWRkQ2FyZEZvcm0iLCJ1c2VyQXZhdGFyIiwiYXZhdGFyRm9ybSIsImN1cnJlbnRVc2VySW5mbyIsImFwaSIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJzZW5kQ2FyZERhdGEiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJzZXRVc2VySW5mbyIsImFib3V0IiwiYXZhdGFyIiwiX2Fib3V0IiwiX2F2YXRhciIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwiZGVsZXRlQ2FyZCIsImxpa2VBZGQiLCJsaWtlRGVsZXRlIiwiZWRpdFByb2ZpbGVQaG90byIsImF1dGhvcml6YXRpb24iLCJwb3B1cEVkaXRQcm9maWxlIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwidXNlckluZm9JbnN0YW5jZSIsInBvcHVwQWRkQ2FyZEZvcm0iLCJnZXRWYWx1ZXMiLCJ0aXRsZSIsInVybCIsInBhZ2VHYWxsZXJ5IiwiYWRkSXRlbSIsImNyZWF0ZUNhcmQiLCJwb3B1cEltYWdlIiwiX2VsZW1lbnRQaWMiLCJfZWxlbWVudFRleHQiLCJkZWxldGVQb3B1cCIsInBvcHVwRm9yQXZhdGFyIiwic2V0VXNlckF2YXRhciIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJjYXJkRGF0YSIsInVzZXJOYW1lIiwidXNlckluZm8iLCJfdXNlckRhdGEiLCJpbmZvIiwicG9wdXBBZGRDYXJkIiwicG9wdXBQcm9maWxlIiwidXNlckFjdHVhbEluZm8iXSwic291cmNlUm9vdCI6IiJ9